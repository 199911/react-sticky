{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src","src/sticky.js","src/container.js","src/watcher.js","node_modules/raf/index.js","node_modules/simple-signal/lib/index.js","node_modules/performance-now/lib/performance-now.js","node_modules/process/browser.js"],"names":["Sticky","_React$Component","props","call","this","onScroll","isSticky","_this","stickyConditionsMet","hasChanged","state","topCorrection","stickyStyle","offset","context","containerRect","_reactDom2","findDOMNode","container","getBoundingClientRect","position","top","left","width","height","bottomLimit","bottom","bottomOffset","setState","updateTopCorrection","onStickyStateChange","onResize","updateOrigin","scrollWatcher","emit","updateHeight","resizeWatcher","on","off","window","pageYOffset","document","documentElement","scrollTop","pageOffset","origin","containerNode","stickyTopConditionsMet","topOffset","stickyBottomConditionsMet","node","_react2","previousPosition","style","className","stickyClass","_extends","createElement","children","Component","contextTypes","PropTypes","any","number","defaultProps","_watcher2","Container","paddingTop","childContextTypes","Watcher","events","signal","_simpleSignal2","handleEvent","_raf2","forEach","evt","addEventListener","attachEvent","now","require","root","global","vendors","suffix","raf","caf","i","length","last","id","queue","frameDuration","callback","_now","next","Math","max","setTimeout","cp","slice","cancelled","e","round","push","handle","module","exports","fn","cancel","apply","arguments","polyfill","requestAnimationFrame","cancelAnimationFrame","Signal","subscribers","index","indexOf","splice","val","len","__esModule","getNanoSeconds","hrtime","loadTime","performance","process","hr","Date","getTime","cleanUpNextTick","draining","currentQueue","concat","queueIndex","drainQueue","timeout","run","clearTimeout","Item","fun","array","noop","nextTick","args","Array","prototype","title","browser","env","argv","version","versions","addListener","once","removeListener","removeAllListeners","binding","name","Error","cwd","chdir","dir","umask"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.StickyContainer=exports.Sticky=void 0;var _sticky=require(\"./sticky\"),_sticky2=_interopRequireDefault(_sticky),_container=require(\"./container\"),_container2=_interopRequireDefault(_container);exports.Sticky=_sticky2[\"default\"],exports.StickyContainer=_container2[\"default\"],exports[\"default\"]=_sticky2[\"default\"];","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Watcher from './watcher';\n\nexport default class Sticky extends React.Component {\n\n  static contextTypes = {\n    container: React.PropTypes.any,\n    offset: React.PropTypes.number\n  }\n\n  static defaultProps = {\n    className: '',\n    style: {},\n    stickyClass: 'sticky',\n    stickyStyle: {},\n    topOffset: 0,\n    bottomOffset: 0,\n    onStickyStateChange: function () {}\n  }\n\n  static scrollWatcher = new Watcher(['scroll', 'touchstart', 'touchend']);\n  static resizeWatcher = new Watcher(['resize']);\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      height: 0,\n      stickyStyle: {}\n    };\n  }\n\n  componentDidMount() {\n    this.updateOrigin();\n    this.updateHeight();\n\n    Sticky.resizeWatcher.on(this.onResize);\n    Sticky.scrollWatcher.on(this.onScroll);\n  }\n\n  componentWillUnmount() {\n    Sticky.resizeWatcher.off(this.onResize);\n    Sticky.scrollWatcher.off(this.onScroll);\n  }\n\n  /*\n   * Anytime new props are received, force re-evaluation\n   */\n  componentWillReceiveProps() {\n    this.updateHeight();\n  }\n\n  pageOffset() {\n    return window.pageYOffset || document.documentElement.scrollTop;\n  }\n\n  /*\n   * Returns true/false depending on if this should be sticky.\n   */\n  stickyConditionsMet() {\n    let offset = this.pageOffset();\n    let origin =  this.state.origin - (this.context.offset || 0);\n    let containerNode = ReactDOM.findDOMNode(this.context.container);\n\n    // check conditions\n    let stickyTopConditionsMet = offset >= origin + this.props.topOffset;\n    let stickyBottomConditionsMet = offset + this.props.bottomOffset < origin + containerNode.getBoundingClientRect().height;\n    return stickyTopConditionsMet && stickyBottomConditionsMet;\n  }\n\n  onScroll = () => {\n    let isSticky = this.stickyConditionsMet();\n    let hasChanged = this.state.isSticky !== isSticky;\n    let topCorrection = 0;\n    let stickyStyle = {};\n\n    if (isSticky) {\n      let offset = this.context.offset || 0;\n      let containerRect = ReactDOM.findDOMNode(this.context.container).getBoundingClientRect();\n      stickyStyle = {\n        position: 'fixed',\n        top: offset,\n        left: containerRect.left,\n        width: containerRect.width\n      };\n      topCorrection = this.state.height;\n\n      let bottomLimit = containerRect.bottom - this.state.height - this.props.bottomOffset;\n      if (offset > bottomLimit) {\n        stickyStyle.top = bottomLimit;\n      }\n    }\n\n    // Update state\n    this.setState({ isSticky, stickyStyle });\n    this.context.container.updateTopCorrection(topCorrection);\n\n    // Publish sticky state change\n    if (hasChanged) this.props.onStickyStateChange(isSticky);\n  }\n\n  onResize = () => {\n    this.updateOrigin();\n    // emit a scroll event to re-calculate container top offsets\n    Sticky.scrollWatcher.emit();\n  }\n\n  updateOrigin() {\n    let node = React.findDOMNode(this);\n\n    // Do some DOM manipulation to where this element's non-sticky position would be\n    let previousPosition = node.style.position;\n    node.style.position = '';\n    let origin = node.getBoundingClientRect().top + this.pageOffset();\n    node.style.position = previousPosition;\n\n    this.setState({origin});\n  }\n\n  updateHeight() {\n    let height = ReactDOM.findDOMNode(this).getBoundingClientRect().height;\n    this.setState({ height });\n  }\n\n  /*\n   * The special sauce.\n   */\n  render() {\n    let className = `${this.props.className} ${this.state.isSticky ? this.props.stickyClass : ''}`\n\n    let style = this.props.style;\n    if (this.state.isSticky) {\n      style = Object.assign({}, this.props.style, this.state.stickyStyle, this.props.stickyStyle);\n    }\n\n    return (\n      <div className={className} style={style}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Sticky from './sticky';\n\nexport default class Container extends React.Component {\n\n  static contextTypes = {\n    container: React.PropTypes.any,\n    topCorrection: React.PropTypes.number\n  }\n\n  static childContextTypes = {\n    container: React.PropTypes.any,\n    topCorrection: React.PropTypes.number,\n    offset: React.PropTypes.number\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      topCorrection: 0\n    };\n  }\n\n  getChildContext() {\n    let container = this;\n    let topCorrection = (this.context.topCorrection || 0) + this.state.topCorrection;\n    let offset = topCorrection - this.state.topCorrection;\n    return { container, topCorrection, offset };\n  }\n\n  updateTopCorrection(topCorrection) {\n    this.setState({ topCorrection });\n  }\n\n  render() {\n    let style = Object.assign({}, this.props.style || {});\n\n    let paddingTop = style.paddingTop || 0;\n    style.paddingTop = paddingTop + this.state.topCorrection;\n\n    return <div {...this.props} style={style}>\n      {this.props.children}\n    </div>\n  }\n}\n","import raf from 'raf';\nimport Signal from 'simple-signal';\n\nexport default function Watcher(events) {\n  const signal = new Signal();\n\n  const handleEvent = () => raf(signal.emit);\n\n  /**\n    * Wire up event listeners\n    */\n  events\n    .forEach(function(evt) {\n      if (window.addEventListener) {\n        window.addEventListener(evt, handleEvent);\n      } else {\n        window.attachEvent('on' + evt, handleEvent);\n      }\n    });\n\n  return signal;\n}\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = Signal;\n\nfunction Signal() {\n  var subscribers = [];\n  return {\n    on: function on(fn) {\n      subscribers.push(fn);\n    },\n    off: function off(fn) {\n      var index = subscribers.indexOf(fn);\n      if (index > -1) {\n        subscribers.splice(index, 1);\n      }\n    },\n    emit: function emit(val) {\n      for (var i = 0, len = subscribers.length; i < len; ++i) {\n        subscribers[i](val);\n      }\n    }\n  };\n}\n\nmodule.exports = exports[\"default\"];","// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n"]}