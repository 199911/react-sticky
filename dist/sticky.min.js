(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Sticky = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_sticky=require("./sticky"),_sticky2=_interopRequireDefault(_sticky),_utils=require("./utils"),Container=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return n.state={topCorrection:0},n}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.setState({node:ReactDOM.findDOMNode(this)})}},{key:"getChildContext",value:function(){return{container:this}}},{key:"setTopCorrection",value:function(e){this.setState({topCorrection:e})}},{key:"render",value:function(){var e=(0,_utils.copy)({},this.props.style||{});if(this.state.node){var t=e.paddingTop||parseInt(this.state.node.style.paddingTop)||0;e.paddingTop=t+this.state.topCorrection}return _react2["default"].createElement("div",_extends({},this.props,{style:e}),this.props.children)}}]),t}(_react2["default"].Component);Container.contextTypes={container:_react2["default"].PropTypes.any},Container.childContextTypes={container:_react2["default"].PropTypes.any},exports["default"]=Container,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./sticky":2,"./utils":3}],2:[function(require,module,exports){
(function (global){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_reactDom="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof global?global.ReactDOM:null,_reactDom2=_interopRequireDefault(_reactDom),_watcher=require("./watcher"),_watcher2=_interopRequireDefault(_watcher),_utils=require("./utils"),Sticky=function(t){function e(t){_classCallCheck(this,e);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t));return n.state={},n}return _inherits(e,t),_createClass(e,[{key:"pageOffset",value:function(){return window.pageYOffset||document.documentElement.scrollTop}},{key:"otherStickyOffset",value:function(){var t=0;if(this.container)for(var e=this.container.context.container;e;)t=e.state.topCorrection,e=e.context.container;return t}},{key:"calculateOrigin",value:function(t){if(t=t||this.node,this.lastWidth!==window.innerWidth||this.lastHeight!==window.innerHeight){this.lastWidth=window.innerWidth,this.lastHeight=window.innerHeight;var e=t.style.position;t.style.position="",this.origin=t.getBoundingClientRect().top+this.pageOffset()-this.otherStickyOffset(),t.style.position=e}return this.origin}},{key:"shouldBeSticky",value:function(){var t=this.pageOffset(),e=this.calculateOrigin(),n=t>=e+this.props.topOffset,i=t<this.containerNode.getBoundingClientRect().height+e-this.node.getBoundingClientRect().height;return n&&i}},{key:"transition",value:function(){this.containerNode&&this.nextState(this.shouldBeSticky())}},{key:"componentWillReceiveProps",value:function(){_watcher2["default"].emit()}},{key:"componentWillUpdate",value:function(t,e,n){this.container=n.container,this.containerNode=_reactDom2["default"].findDOMNode(this.container)}},{key:"componentDidMount",value:function(){this.node=_reactDom2["default"].findDOMNode(this),_watcher2["default"].on(this.transition.bind(this)),_watcher2["default"].emit()}},{key:"componentWillUnmount",value:function(){_watcher2["default"].off(this.transition.bind(this))}},{key:"nextStyle",value:function(t){if(t){var e=(this.containerNode||document.body).getBoundingClientRect(),n=(0,_utils.copy)({},this.props.style);return n.position="fixed",n.left=e.left,n.width=e.width,n.top=this.otherStickyOffset(),(0,_utils.copy)(n,this.props.stickyStyle)}return this.props.style}},{key:"nextClassName",value:function(t){var e=this.props.className;return t&&(e+=" "+this.props.stickyClass),e}},{key:"nextState",value:function(t){var e=this.state.isSticky!==t;this.setState({isSticky:t,style:this.nextStyle(t),className:this.nextClassName(t)}),e&&(this.preventBounce(t),this.props.onStickyStateChange(t))}},{key:"preventBounce",value:function(t){var e=void 0;e=t?this.bounceCorrection=Math.ceil(this.node.getBoundingClientRect().height):-this.bounceCorrection||0,this.container&&this.container.setTopCorrection(e)}},{key:"render",value:function(){return _react2["default"].createElement("div",{style:this.state.style,className:this.state.className},this.props.children)}}]),e}(_react2["default"].Component);Sticky.contextTypes={container:_react2["default"].PropTypes.any},Sticky.defaultProps={className:"",style:{},stickyClass:"sticky",stickyStyle:{},topOffset:0,onStickyStateChange:function(){}},exports["default"]=Sticky,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./utils":3,"./watcher":4}],3:[function(require,module,exports){
(function (global){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function copy(e,t){for(var i in t)e[i]=t[i];return e}function findStickies(e){var t=[];return e.forEach(function(e){e.type===_sticky2["default"]&&t.push(e)}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.copy=copy,exports.findStickies=findStickies;var _react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_sticky=require("./sticky"),_sticky2=_interopRequireDefault(_sticky);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./sticky":2}],4:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function handleEvent(e){switch(e.type){case"touchmove":state.hasTouchEvent=!0;break;case"touchend":state.hasTouchEvent=!1;break;default:state.hasUnhandledEvent=!0}}Object.defineProperty(exports,"__esModule",{value:!0});var _raf=require("raf"),_raf2=_interopRequireDefault(_raf),_simpleSignal=require("simple-signal"),_simpleSignal2=_interopRequireDefault(_simpleSignal),state={hasUnhandledEvent:!1,hasTouchEvent:!1},signal=new _simpleSignal2["default"];["scroll","resize","touchmove","touchend"].forEach(function(e){window.addEventListener?window.addEventListener(e,handleEvent):window.attachEvent("on"+e,handleEvent)}),(0,_raf2["default"])(function e(){(state.hasUnhandledEvent||state.hasTouchEvent)&&(signal.emit(),state.hasUnhandledEvent=!1),(0,_raf2["default"])(e)}),exports["default"]=signal,module.exports=exports["default"];
},{"raf":8,"simple-signal":9}],5:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _sticky=require("./sticky"),_sticky2=_interopRequireDefault(_sticky),_container=require("./container"),_container2=_interopRequireDefault(_container);_sticky2["default"].Container=_container2["default"],exports["default"]=_sticky2["default"],module.exports=exports["default"];
},{"./container":1,"./sticky":2}],6:[function(require,module,exports){
(function (process){
(function(){var e,n,r;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(e()-r)/1e6},n=process.hrtime,e=function(){var e;return e=n(),1e9*e[0]+e[1]},r=e()):Date.now?(module.exports=function(){return Date.now()-r},r=Date.now()):(module.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this);
}).call(this,require('_process'))

},{"_process":7}],7:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],8:[function(require,module,exports){
(function (global){
for(var now=require("performance-now"),root="undefined"==typeof window?global:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix],i=0;!raf&&i<vendors.length;i++)raf=root[vendors[i]+"Request"+suffix],caf=root[vendors[i]+"Cancel"+suffix]||root[vendors[i]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(e){if(0===queue.length){var o=now(),a=Math.max(0,frameDuration-(o-last));last=a+o,setTimeout(function(){var e=queue.slice(0);queue.length=0;for(var o=0;o<e.length;o++)if(!e[o].cancelled)try{e[o].callback(last)}catch(a){setTimeout(function(){throw a},0)}},Math.round(a))}return queue.push({handle:++id,callback:e,cancelled:!1}),id},caf=function(e){for(var o=0;o<queue.length;o++)queue[o].handle===e&&(queue[o].cancelled=!0)}}module.exports=function(e){return raf.call(root,e)},module.exports.cancel=function(){caf.apply(root,arguments)},module.exports.polyfill=function(){root.requestAnimationFrame=raf,root.cancelAnimationFrame=caf};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"performance-now":6}],9:[function(require,module,exports){
"use strict";function Signal(){var e=[];return{on:function(t){e.push(t)},off:function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},emit:function(t){for(var n=0,o=e.length;o>n;++n)e[n](t)}}}exports.__esModule=!0,exports["default"]=Signal,module.exports=exports["default"];
},{}]},{},[5])(5)
});


//# sourceMappingURL=index.js.map