(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.ReactSticky = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (process){
(function(){var e,n,r;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(e()-r)/1e6},n=process.hrtime,e=function(){var e;return e=n(),1e9*e[0]+e[1]},r=e()):Date.now?(module.exports=function(){return Date.now()-r},r=Date.now()):(module.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this);
}).call(this,require('_process'))

},{"_process":2}],2:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],3:[function(require,module,exports){
(function (global){
for(var now=require("performance-now"),root="undefined"==typeof window?global:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix],i=0;!raf&&i<vendors.length;i++)raf=root[vendors[i]+"Request"+suffix],caf=root[vendors[i]+"Cancel"+suffix]||root[vendors[i]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(e){if(0===queue.length){var o=now(),a=Math.max(0,frameDuration-(o-last));last=a+o,setTimeout(function(){var e=queue.slice(0);queue.length=0;for(var o=0;o<e.length;o++)if(!e[o].cancelled)try{e[o].callback(last)}catch(a){setTimeout(function(){throw a},0)}},Math.round(a))}return queue.push({handle:++id,callback:e,cancelled:!1}),id},caf=function(e){for(var o=0;o<queue.length;o++)queue[o].handle===e&&(queue[o].cancelled=!0)}}module.exports=function(e){return raf.call(root,e)},module.exports.cancel=function(){caf.apply(root,arguments)},module.exports.polyfill=function(){root.requestAnimationFrame=raf,root.cancelAnimationFrame=caf};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"performance-now":1}],4:[function(require,module,exports){
"use strict";function Signal(){var e=[];return{on:function(t){e.push(t)},off:function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},emit:function(t){for(var n=0,o=e.length;o>n;++n)e[n](t)}}}exports.__esModule=!0,exports["default"]=Signal,module.exports=exports["default"];
},{}],5:[function(require,module,exports){
(function (global){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_sticky=require("./sticky"),_sticky2=_interopRequireDefault(_sticky),Container=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return r.state={topCorrection:0},r}return _inherits(t,e),_createClass(t,[{key:"getChildContext",value:function(){var e=this,t=(this.context.topCorrection||0)+this.state.topCorrection;return{container:e,topCorrection:t}}},{key:"nextState",value:function(e){var t=e.isSticky?e.height:0;this.setState({topCorrection:t})}},{key:"render",value:function(){var e=_extends({},this.props.style||{}),t=e.paddingTop||0;return e.paddingTop=t+this.state.topCorrection,_react2["default"].createElement("div",_extends({},this.props,{style:e}),this.props.children)}}]),t}(_react2["default"].Component);Container.contextTypes={container:_react2["default"].PropTypes.any,topCorrection:_react2["default"].PropTypes.number},Container.childContextTypes={container:_react2["default"].PropTypes.any,topCorrection:_react2["default"].PropTypes.number},exports["default"]=Container,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./sticky":6}],6:[function(require,module,exports){
(function (global){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_reactDom="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof global?global.ReactDOM:null,_reactDom2=_interopRequireDefault(_reactDom),_watcher=require("./watcher"),_watcher2=_interopRequireDefault(_watcher),Sticky=function(t){function e(t){_classCallCheck(this,e);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t));return n.updateStickyState=function(){var t=n.shouldBeSticky(),e=n.state.isSticky!==t;n.setState({isSticky:t,style:n.nextStyle(t),className:n.nextClassName(t)}),e&&(n.context.container&&n.context.container.nextState({isSticky:t,height:n.state.height}),n.props.onStickyStateChange(t))},n.updateOrigin=function(){var t=_react2["default"].findDOMNode(n),e=t.style.position;t.style.position="";var o=t.getBoundingClientRect().top+n.pageOffset();t.style.position=e,n.setState({origin:o})},n.state={height:0,top:0},n}return _inherits(e,t),_createClass(e,[{key:"componentWillReceiveProps",value:function(){e.resizeWatcher.emit(),e.scrollWatcher.emit()}},{key:"componentDidMount",value:function(){this.updateOrigin();var t=_reactDom2["default"].findDOMNode(this).getBoundingClientRect().height,n=Math.max((this.context.topCorrection||0)-t,0);this.setState({height:t,top:n}),e.resizeWatcher.on(this.updateOrigin),e.scrollWatcher.on(this.updateStickyState)}},{key:"componentWillUnmount",value:function(){e.resizeWatcher.off(this.updateOrigin),e.scrollWatcher.off(this.updateStickyState)}},{key:"pageOffset",value:function(){return window.pageYOffset||document.documentElement.scrollTop}},{key:"shouldBeSticky",value:function(){var t=this.pageOffset(),e=this.state.origin-this.state.top,n=_reactDom2["default"].findDOMNode(this.context.container),o=t>=e+this.props.topOffset,i=t<n.getBoundingClientRect().height+e;return o&&i}},{key:"nextStyle",value:function(t){if(t){var e=_reactDom2["default"].findDOMNode(this.context.container).getBoundingClientRect(),n=_extends({},this.props.style);n.position="fixed",n.left=e.left,n.width=e.width,n.top=this.state.top;var o=e.bottom-this.state.height;return n.top>o&&(n.top=o),_extends(n,this.props.stickyStyle)}return this.props.style}},{key:"nextClassName",value:function(t){var e=this.props.className;return t&&(e+=" "+this.props.stickyClass),e}},{key:"render",value:function(){return _react2["default"].createElement("div",{style:this.state.style,className:this.state.className},this.props.children)}}]),e}(_react2["default"].Component);Sticky.contextTypes={container:_react2["default"].PropTypes.any,topCorrection:_react2["default"].PropTypes.number},Sticky.defaultProps={className:"",style:{},stickyClass:"sticky",stickyStyle:{},topOffset:0,onStickyStateChange:function(){}},Sticky.scrollWatcher=new _watcher2["default"](["scroll","touchstart","touchend"]),Sticky.resizeWatcher=new _watcher2["default"](["resize"]),exports["default"]=Sticky,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./watcher":7}],7:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function Watcher(e){var t=new _simpleSignal2["default"],r=function(){return(0,_raf2["default"])(t.emit)};return e.forEach(function(e){window.addEventListener?window.addEventListener(e,r):window.attachEvent("on"+e,r)}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Watcher;var _raf=require("raf"),_raf2=_interopRequireDefault(_raf),_simpleSignal=require("simple-signal"),_simpleSignal2=_interopRequireDefault(_simpleSignal);module.exports=exports["default"];
},{"raf":3,"simple-signal":4}],8:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StickyContainer=exports.Sticky=void 0;var _sticky=require("./sticky"),_sticky2=_interopRequireDefault(_sticky),_container=require("./container"),_container2=_interopRequireDefault(_container);exports.Sticky=_sticky2["default"],exports.StickyContainer=_container2["default"],exports["default"]=_sticky2["default"];
},{"./container":5,"./sticky":6}]},{},[8])(8)
});


//# sourceMappingURL=index.js.map